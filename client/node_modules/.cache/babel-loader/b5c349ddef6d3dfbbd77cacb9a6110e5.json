{"ast":null,"code":"// Mass image creation\nvar async = require('async');\n\nvar getPixels = require('get-pixels');\n\nfunction createImages(files, cb) {\n  // In series\n  async.waterfall([// Load the images into memory\n  // DEV: If this becomes unwieldy, load in stats only. Then, inside of exporters, stream them in individually.\n  function loadImages(cb) {\n    async.map(files, function loadImage(filepath, cb) {\n      getPixels(filepath, cb);\n    }, cb);\n  }, function saveImgSizes(images, cb) {\n    images.forEach(function saveImgSize(img) {\n      var shape = img.shape;\n      img.height = shape[0];\n      img.width = shape[1];\n    });\n    cb(null, images);\n  }], cb);\n} // Export single image creation and mass image creation\n\n\nmodule.exports = {\n  createImages: createImages\n};","map":{"version":3,"sources":["/Users/marcusnorwood/Sites/music-site/dale-street-studio-music/client/node_modules/pngsmith/lib/image.js"],"names":["async","require","getPixels","createImages","files","cb","waterfall","loadImages","map","loadImage","filepath","saveImgSizes","images","forEach","saveImgSize","img","shape","height","width","module","exports"],"mappings":"AAAA;AACA,IAAIA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAnB;;AACA,IAAIC,SAAS,GAAGD,OAAO,CAAC,YAAD,CAAvB;;AACA,SAASE,YAAT,CAAsBC,KAAtB,EAA6BC,EAA7B,EAAiC;AAC/B;AACAL,EAAAA,KAAK,CAACM,SAAN,CAAgB,CACd;AACA;AACA,WAASC,UAAT,CAAqBF,EAArB,EAAyB;AACvBL,IAAAA,KAAK,CAACQ,GAAN,CAAUJ,KAAV,EAAiB,SAASK,SAAT,CAAoBC,QAApB,EAA8BL,EAA9B,EAAkC;AACjDH,MAAAA,SAAS,CAACQ,QAAD,EAAWL,EAAX,CAAT;AACD,KAFD,EAEGA,EAFH;AAGD,GAPa,EAQd,SAASM,YAAT,CAAuBC,MAAvB,EAA+BP,EAA/B,EAAmC;AACjCO,IAAAA,MAAM,CAACC,OAAP,CAAe,SAASC,WAAT,CAAsBC,GAAtB,EAA2B;AACxC,UAAIC,KAAK,GAAGD,GAAG,CAACC,KAAhB;AACAD,MAAAA,GAAG,CAACE,MAAJ,GAAaD,KAAK,CAAC,CAAD,CAAlB;AACAD,MAAAA,GAAG,CAACG,KAAJ,GAAYF,KAAK,CAAC,CAAD,CAAjB;AACD,KAJD;AAKAX,IAAAA,EAAE,CAAC,IAAD,EAAOO,MAAP,CAAF;AACD,GAfa,CAAhB,EAgBGP,EAhBH;AAiBD,C,CAED;;;AACAc,MAAM,CAACC,OAAP,GAAiB;AACfjB,EAAAA,YAAY,EAAEA;AADC,CAAjB","sourcesContent":["// Mass image creation\nvar async = require('async');\nvar getPixels = require('get-pixels');\nfunction createImages(files, cb) {\n  // In series\n  async.waterfall([\n    // Load the images into memory\n    // DEV: If this becomes unwieldy, load in stats only. Then, inside of exporters, stream them in individually.\n    function loadImages (cb) {\n      async.map(files, function loadImage (filepath, cb) {\n        getPixels(filepath, cb);\n      }, cb);\n    },\n    function saveImgSizes (images, cb) {\n      images.forEach(function saveImgSize (img) {\n        var shape = img.shape;\n        img.height = shape[0];\n        img.width = shape[1];\n      });\n      cb(null, images);\n    }\n  ], cb);\n}\n\n// Export single image creation and mass image creation\nmodule.exports = {\n  createImages: createImages\n};"]},"metadata":{},"sourceType":"script"}