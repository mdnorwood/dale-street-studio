{"ast":null,"code":"\"use strict\";\n\nvar ndarray = require(\"ndarray\");\n\nmodule.exports = function getPixels(url, cb) {\n  var img = new Image();\n\n  img.onload = function () {\n    var canvas = document.createElement(\"canvas\");\n    canvas.width = img.width;\n    canvas.height = img.height;\n    var context = canvas.getContext(\"2d\");\n    context.drawImage(img, 0, 0);\n    var pixels = context.getImageData(0, 0, img.width, img.height);\n    cb(null, ndarray(new Uint8Array(pixels.data), [img.height, img.width, 4], [4 * img.width, 4, 1], 0));\n  };\n\n  img.onerror = function (err) {\n    cb(err);\n  };\n\n  img.src = url;\n};","map":{"version":3,"sources":["/Users/marcusnorwood/Sites/music-site/dale-street-studio-music/client/node_modules/get-pixels/dom-pixels.js"],"names":["ndarray","require","module","exports","getPixels","url","cb","img","Image","onload","canvas","document","createElement","width","height","context","getContext","drawImage","pixels","getImageData","Uint8Array","data","onerror","err","src"],"mappings":"AAAA;;AAEA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,SAASC,SAAT,CAAmBC,GAAnB,EAAwBC,EAAxB,EAA4B;AAC3C,MAAIC,GAAG,GAAG,IAAIC,KAAJ,EAAV;;AACAD,EAAAA,GAAG,CAACE,MAAJ,GAAa,YAAW;AACtB,QAAIC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAb;AACAF,IAAAA,MAAM,CAACG,KAAP,GAAeN,GAAG,CAACM,KAAnB;AACAH,IAAAA,MAAM,CAACI,MAAP,GAAgBP,GAAG,CAACO,MAApB;AACA,QAAIC,OAAO,GAAGL,MAAM,CAACM,UAAP,CAAkB,IAAlB,CAAd;AACAD,IAAAA,OAAO,CAACE,SAAR,CAAkBV,GAAlB,EAAuB,CAAvB,EAA0B,CAA1B;AACA,QAAIW,MAAM,GAAGH,OAAO,CAACI,YAAR,CAAqB,CAArB,EAAwB,CAAxB,EAA2BZ,GAAG,CAACM,KAA/B,EAAsCN,GAAG,CAACO,MAA1C,CAAb;AACAR,IAAAA,EAAE,CAAC,IAAD,EAAON,OAAO,CAAC,IAAIoB,UAAJ,CAAeF,MAAM,CAACG,IAAtB,CAAD,EAA8B,CAACd,GAAG,CAACO,MAAL,EAAaP,GAAG,CAACM,KAAjB,EAAwB,CAAxB,CAA9B,EAA0D,CAAC,IAAEN,GAAG,CAACM,KAAP,EAAc,CAAd,EAAiB,CAAjB,CAA1D,EAA+E,CAA/E,CAAd,CAAF;AACD,GARD;;AASAN,EAAAA,GAAG,CAACe,OAAJ,GAAc,UAASC,GAAT,EAAc;AAC1BjB,IAAAA,EAAE,CAACiB,GAAD,CAAF;AACD,GAFD;;AAGAhB,EAAAA,GAAG,CAACiB,GAAJ,GAAUnB,GAAV;AACD,CAfD","sourcesContent":["\"use strict\"\n\nvar ndarray = require(\"ndarray\")\n\nmodule.exports = function getPixels(url, cb) {\n  var img = new Image()\n  img.onload = function() {\n    var canvas = document.createElement(\"canvas\")\n    canvas.width = img.width\n    canvas.height = img.height\n    var context = canvas.getContext(\"2d\")\n    context.drawImage(img, 0, 0)\n    var pixels = context.getImageData(0, 0, img.width, img.height)\n    cb(null, ndarray(new Uint8Array(pixels.data), [img.height, img.width, 4], [4*img.width, 4, 1], 0))\n  }\n  img.onerror = function(err) {\n    cb(err)\n  }\n  img.src = url\n}\n"]},"metadata":{},"sourceType":"script"}