{"ast":null,"code":"import _regeneratorRuntime from\"/Users/marcusnorwood/Sites/music-site/definition-music-and-mastering/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/marcusnorwood/Sites/music-site/definition-music-and-mastering/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/marcusnorwood/Sites/music-site/definition-music-and-mastering/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Users/marcusnorwood/Sites/music-site/definition-music-and-mastering/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useEffect,useReducer}from'react';var INITIAL_STATE={user:null,searchQuery:'Bret'};var reducer=function reducer(state,action){switch(action.type){case'SET_USER':return _objectSpread(_objectSpread({},state),{},{user:action.payload});case'SET_SEARCH_QUERY':return _objectSpread(_objectSpread({},state),{},{searchQuery:action.payload});default:return state;}};var setUser=function setUser(user){return{type:'SET_USER',payload:user};};var setSearchQuery=function setSearchQuery(queryString){return{type:'SET_SEARCH_QUERY',payload:queryString};};var UseReducerExample=function UseReducerExample(){var _useReducer=useReducer(reducer,INITIAL_STATE),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var user=state.user,searchQuery=state.searchQuery;useEffect(function(){if(searchQuery.length>0){var fetchFunc=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,resJson;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://jsonplaceholder.typicode.com/users?username=\".concat(searchQuery));case 2:response=_context.sent;_context.next=5;return response.json();case 5:resJson=_context.sent;dispatch(setUser(resJson[0]));case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchFunc(){return _ref.apply(this,arguments);};}();fetchFunc();}},[searchQuery]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"search\",value:searchQuery,onChange:function onChange(event){return dispatch(setSearchQuery(event.target.value));}}),user?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,user.name),/*#__PURE__*/React.createElement(\"h3\",null,user.username),/*#__PURE__*/React.createElement(\"h3\",null,user.email)):/*#__PURE__*/React.createElement(\"p\",null,\"No user found\"));};export default UseReducerExample;","map":{"version":3,"sources":["/Users/marcusnorwood/Sites/music-site/definition-music-and-mastering/client/src/components/post/use-reducer.component.jsx"],"names":["React","useEffect","useReducer","INITIAL_STATE","user","searchQuery","reducer","state","action","type","payload","setUser","setSearchQuery","queryString","UseReducerExample","dispatch","length","fetchFunc","fetch","response","json","resJson","event","target","value","name","username","email"],"mappings":"owBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,UAA3B,KAA6C,OAA7C,CAEA,GAAMC,CAAAA,aAAa,CAAG,CACpBC,IAAI,CAAE,IADc,CAEpBC,WAAW,CAAE,MAFO,CAAtB,CAKA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAQC,MAAR,CAAmB,CACjC,OAAQA,MAAM,CAACC,IAAf,EACE,IAAK,UAAL,CACE,sCAAYF,KAAZ,MAAmBH,IAAI,CAAEI,MAAM,CAACE,OAAhC,GACF,IAAK,kBAAL,CACE,sCAAYH,KAAZ,MAAmBF,WAAW,CAAEG,MAAM,CAACE,OAAvC,GACF,QACE,MAAOH,CAAAA,KAAP,CANJ,CAQD,CATD,CAWA,GAAMI,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAAAP,IAAI,QAAK,CACvBK,IAAI,CAAE,UADiB,CAEvBC,OAAO,CAACN,IAFe,CAAL,EAApB,CAKA,GAAMQ,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAAAC,WAAW,QAAK,CACrCJ,IAAI,CAAE,kBAD+B,CAErCC,OAAO,CAAEG,WAF4B,CAAL,EAAlC,CAKA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,iBACJZ,UAAU,CAACI,OAAD,CAAUH,aAAV,CADN,4CACvBI,KADuB,iBAChBQ,QADgB,oBAEtBX,CAAAA,IAFsB,CAEAG,KAFA,CAEtBH,IAFsB,CAEhBC,WAFgB,CAEAE,KAFA,CAEhBF,WAFgB,CAI9BJ,SAAS,CAAC,UAAM,CACd,GAAGI,WAAW,CAACW,MAAZ,CAAqB,CAAxB,CAA2B,CACzB,GAAMC,CAAAA,SAAS,0FAAG,8KACOC,CAAAA,KAAK,+DAC6Bb,WAD7B,EADZ,QACVc,QADU,qCAIMA,CAAAA,QAAQ,CAACC,IAAT,EAJN,QAIVC,OAJU,eAKhBN,QAAQ,CAACJ,OAAO,CAACU,OAAO,CAAC,CAAD,CAAR,CAAR,CAAR,CALgB,sDAAH,kBAATJ,CAAAA,SAAS,0CAAf,CAQAA,SAAS,GACV,CACF,CAZQ,CAYN,CAACZ,WAAD,CAZM,CAAT,CAcA,mBACE,4CACE,6BACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAEA,WAFT,CAGE,QAAQ,CAAE,kBAAAiB,KAAK,QAAIP,CAAAA,QAAQ,CAACH,cAAc,CAACU,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAf,CAAZ,EAHjB,EADF,CAMGpB,IAAI,cACH,4CACE,8BAAKA,IAAI,CAACqB,IAAV,CADF,cAEE,8BAAKrB,IAAI,CAACsB,QAAV,CAFF,cAGE,8BAAKtB,IAAI,CAACuB,KAAV,CAHF,CADG,cAOH,6CAbJ,CADF,CAkBD,CApCD,CAsCA,cAAeb,CAAAA,iBAAf","sourcesContent":["import React, { useEffect, useReducer } from 'react';\n\nconst INITIAL_STATE = {\n  user: null,\n  searchQuery: 'Bret'\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'SET_USER':\n      return { ...state, user: action.payload };\n    case 'SET_SEARCH_QUERY':\n      return { ...state, searchQuery: action.payload };\n    default:\n      return state;\n  }\n};\n\nconst setUser = user => ({\n  type: 'SET_USER',\n  payload:user\n});\n\nconst setSearchQuery = queryString => ({\n  type: 'SET_SEARCH_QUERY',\n  payload: queryString\n});\n\nconst UseReducerExample = () => {\n  const [state, dispatch] = useReducer(reducer, INITIAL_STATE);\n  const { user, searchQuery } = state;\n\n  useEffect(() => {\n    if(searchQuery.length > 0) {\n      const fetchFunc = async () => {\n        const response = await fetch(\n          `https://jsonplaceholder.typicode.com/users?username=${searchQuery}`\n        );\n        const resJson = await response.json();\n        dispatch(setUser(resJson[0]));\n      };\n\n      fetchFunc();\n    }\n  }, [searchQuery]);\n\n  return (\n    <div>\n      <input\n        type='search'\n        value={searchQuery}\n        onChange={event => dispatch(setSearchQuery(event.target.value))}\n      />\n      {user ? (\n        <div>\n          <h3>{user.name}</h3>\n          <h3>{user.username}</h3>\n          <h3>{user.email}</h3>\n        </div>\n      ) : (\n        <p>No user found</p>\n      )}\n    </div>\n  );\n};\n\nexport default UseReducerExample;"]},"metadata":{},"sourceType":"module"}